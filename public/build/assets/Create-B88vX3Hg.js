import{A as C}from"./AppLayout-BWdNQaqX.js";import{Z as b,i as A,T as f,q as w,c as V,w as k,o as d,a as s,k as u,B,d as h,g as x,F as _,v as g,t as v}from"./app-BfnqphSQ.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={components:{AppLayout:C,Head:b,Link:A,useForm:f},props:{list_permissions:Object},setup(){},data(){return{form:f({name:"",permissions:[]}),checkedAll:[],keyCheckedAll:[]}},created(){},watch:{},methods:{onChange(t,e,l){this.keyCheckedAll=[],t.target.checked==!0?(this.checkedAll[l]=t.target.checked,Object.keys(e).forEach((r,o)=>{this.form.permissions.push(r)}),this.keyCheckedAll=this.form.permissions):(this.checkedAll[l]=t.target.checked,this.form.permissions=this.form.permissions.filter(r=>!Object.keys(e).includes(r)))},updateChildren(t,e){t.target.checked==!0?this.keyCheckedAll.push(t.target.value):this.keyCheckedAll=this.removeArrValue(this.keyCheckedAll,t.target.value),Object.keys(this.list_permissions[e]).filter(r=>!this.keyCheckedAll.includes(r)).length==0?this.checkedAll[e]=!0:this.checkedAll[e]=!1},removeArrValue(t,e){return t.filter(l=>!e.includes(l))},save(){this.form.post(this.route("roles.store"),{preserveScroll:!0,onSuccess:()=>{this.toast.success("Create roles successfully")},onError:()=>{this.toast.errors("Create roles Errors")}})}},mounted(){}},j={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},D={class:"grid grid-cols-2 gap-4"},F={class:"p-2 w-full flex"},S={class:"p-2"},I={class:"w-full flex"},M={class:"text-base mb-1 px-1 py-1 border-b"},N=["onUpdate:modelValue","onChange"],T={class:"px-2 mt-2 capitalize"},q=["onUpdate:modelValue","value","onChange"],z={class:"px-2 mt-2"},H={class:"flex p-2"};function P(t,e,l,r,o,n){const y=w("AppLayout");return d(),V(y,{title:"Dashboard"},{header:k(()=>e[2]||(e[2]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Role Create ",-1)])),default:k(()=>[s("div",j,[s("div",E,[s("div",O,[s("div",D,[s("div",F,[e[3]||(e[3]=s("label",{class:"px-2 mt-2"},"Name",-1)),u(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.form.name=a),class:"w-full px-2 py-2 border-gray-400 rounded-md",placeholder:"input name"},null,512),[[B,o.form.name]])])]),s("div",S,[e[4]||(e[4]=s("div",{class:""},[s("label",{class:"px-2"},"Permissions")],-1)),s("div",I,[(d(!0),h(_,null,x(l.list_permissions,(a,i)=>(d(),h("ul",{key:i,class:"ml-4 px-4"},[s("li",M,[u(s("input",{type:"checkbox","onUpdate:modelValue":c=>o.checkedAll[i]=c,onChange:c=>n.onChange(c,a),class:""},null,40,N),[[g,o.checkedAll[i]]]),s("label",T,v(i),1)]),(d(!0),h(_,null,x(a,(c,m)=>(d(),h("li",{key:m,class:"text-sm px-2 ml-4 py-1"},[u(s("input",{type:"checkbox","onUpdate:modelValue":p=>o.form.permissions=p,value:m,onChange:p=>n.updateChildren(p,i),class:""},null,40,q),[[g,o.form.permissions]]),s("label",z,v(c),1)]))),128))]))),128))])]),s("div",H,[s("div",{class:"px-2 w-full py-1 bg-teal-600 text-white text-center shadow-md rounded-lg cursor-pointer",onClick:e[1]||(e[1]=(...a)=>n.save&&n.save(...a))}," save ")])])])])]),_:1})}const J=L(U,[["render",P]]);export{J as default};
